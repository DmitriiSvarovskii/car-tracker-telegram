<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Приветствие Telegram Mini App (Full Screen)</title>
    <!-- Подключаем скрипт Telegram Web App до остальных скриптов -->
    <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, sans-serif;
            background-color: #222;
            color: #fff;
        }

        :root {
            --safe-area-top: 0px;
        }

        body {
            /* Учитываем safe area и растягиваем контент на весь экран */
            padding-top: var(--safe-area-top);
            display: flex;
            flex-direction: column;
        }

        header {
            padding: 20px;
            text-align: center;
            background-color: #333;
        }

        main {
            flex: 1;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
    </style>
</head>

<body>
    <header>
        <h1>Привет!</h1>
    </header>
    <main>
        <p>Это тестовое full-screen приложение для проверки safe area в Telegram Web App.</p>
    </main>
    <script>
        window.addEventListener('load', function () {
            Telegram.WebApp.ready();

            if (!Telegram.WebApp.isFullscreen) {
                Telegram.WebApp.requestFullscreen();
            }

            // Приоритет отдаем contentSafeAreaInset, затем safeAreaInset, если первое недоступно
            const safeTop = Telegram.WebApp.contentSafeAreaInset
                ? Telegram.WebApp.contentSafeAreaInset.top
                : (Telegram.WebApp.safeAreaInset ? Telegram.WebApp.safeAreaInset.top : 0);

            document.documentElement.style.setProperty('--safe-area-top', safeTop + 'px');
            console.log('Safe area top:', safeTop);
        });
    </script>
</body>

</html>
<!-- <!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Consumables Tracker</title>
    <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <div id="app">
        <header>
            <script src="https://telegram.org/js/telegram-web-app.js?56"></script>

            <script>
                Telegram.WebApp.expand();
                function enterFullscreen() {
                    if (!Telegram.WebApp.isFullscreen) {
                        Telegram.WebApp.requestFullscreen();
                    }
                }
                Telegram.WebApp.onEvent('viewportChanged', function (event) {
                    enterFullscreen();
                });
                window.addEventListener('load', function () {
                    Telegram.WebApp.ready();
                    document.documentElement.style.setProperty('--safe-area-top', Telegram.WebApp.safeAreaInset.top + 'px');
                    console.log('Safe area top:', Telegram.WebApp.safeAreaInset.top);
                });
            </script>
            <h1 id="page-title">Создать запись</h1>
            <button id="cancel-button" class="hidden">✕</button>
        </header>

        <main>
            <form id="record-form">
                <div class="form-group">
                    <label for="consumable-type">Тип расходника</label>
                    <select id="consumable-type">
                        <option value="" selected disabled>Выберите тип расходника</option>
                        <optgroup label="Основные расходники и ТО">
                            <option value="oil_engine">Масло двигателя</option>
                            <option value="oil_filter">Масляный фильтр</option>
                            <option value="air_filter">Воздушный фильтр</option>
                            <option value="cabin_filter">Салонный фильтр</option>
                            <option value="fuel_filter">Топливный фильтр</option>
                            <option value="coolant">Жидкость охлаждения (антифриз)</option>
                            <option value="brake_fluid">Тормозная жидкость</option>
                            <option value="power_steering_fluid">Жидкость ГУР</option>
                            <option value="transmission_oil">Масло в коробке передач</option>
                        </optgroup>
                        <optgroup label="Тормозная система">
                            <option value="brake_system">Замена тормозных колодок и/или дисков</option>
                        </optgroup>
                        <optgroup label="Подвеска и рулевое">
                            <option value="shock_absorbers">Замена амортизаторов</option>
                            <option value="suspension_components">Замена сайлентблоков, шаровых, рулевых наконечников
                            </option>
                            <option value="alignment">Сход-развал</option>
                        </optgroup>
                        <optgroup label="Шины">
                            <option value="tire_change">Переобувка шин (зима/лето)</option>
                            <option value="tire_purchase">Покупка шин</option>
                        </optgroup>
                        <optgroup label="Аккумулятор">
                            <option value="battery">Аккумулятор</option>
                        </optgroup>
                        <optgroup label="Прочее">
                            <option value="other_timing">Замена ремня ГРМ / цепи ГРМ</option>
                            <option value="other_spark">Замена свечей зажигания / накала</option>
                            <option value="other_injectors">Промывка форсунок</option>
                            <option value="other_radiator">Промывка радиатора</option>
                            <option value="other_cleaning">Чистка дроссельной заслонки / EGR / турбины</option>
                            <option value="other_additional">Установленные дополнительные элементы</option>
                        </optgroup>
                        <optgroup label="Заправки кондиционера">
                            <option value="ac_refill">Заправка кондиционера</option>
                        </optgroup>
                    </select>
                </div>
                <div id="specific-fields"></div>
            </form>
        </main>

        <footer id="create-footer" style="display: none;">
            <button id="save-record">Сохранить</button>
        </footer>

        <nav class="bottom-nav">
            <button class="nav-button" data-page="create">Создать запись</button>
            <button class="nav-button" data-page="checkpoint">Проверка</button>
            <button class="nav-button" data-page="history">История</button>
            <button class="nav-button" data-page="settings">Настройки</button>
        </nav>
    </div>

    <script src="app.js"></script>

</body>

</html> -->